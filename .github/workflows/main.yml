name: Build DutyManager APK (The Simple Way)

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    # ধাপ ১: আপনার রিপোজিটরির ফাইলগুলো আনা
    - name: Checkout Your Code
      uses: actions/checkout@v4

    # ধাপ ২: APK তৈরি করার জন্য জাদুকরী অ্যাকশন
    - name: Build APK using a dedicated Cordova Action
      # এই অ্যাকশনটি বিশেষভাবে Cordova অ্যাপ বিল্ড করার জন্য তৈরি
      uses: cordova-ci/cordova-action@v2
      with:
        # আমরা এখানে বলে দিচ্ছি যে অ্যান্ড্রয়েড প্ল্যাটফর্মের জন্য বিল্ড করতে হবে
        platform: android
        # এবং আমরা একটি APK চাই
        build: apk

    # ধাপ ৩: তৈরি হওয়া APK ফাইলটি আপলোড করা
    - name: Upload APK as Artifact
      uses: actions/upload-artifact@v4
      with:
        name: DutyManager-APK
        # এই অ্যাকশনটি স্বয়ংক্রিয়ভাবে সঠিক ফোল্ডারে APK তৈরি করে
        path: platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk
